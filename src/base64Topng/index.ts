import fs from 'fs';
const path = `dist/${Date.now()}.png`;

const baseToPng = (data: string) => {
  const base64 = data.replace(/^data:image\/\w+;base64,/, '');
  const dataBuffer = Buffer.from(base64, 'base64');
  console.log(dataBuffer);
  fs.writeFile(path, dataBuffer, (err) => {
    if(!err) {
      console.log('转换成功');
    }
  });
};

baseToPng('data:image/png;base64,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');